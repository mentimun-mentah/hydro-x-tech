{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/paulussimanjuntak/Desktop/react-hydrotech/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { Layout, notification, Row, Col } from \"antd\";\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\nimport Chart from \"react-apexcharts\";\nimport isEqual from \"validator/lib/equals\";\nimport isEmpty from \"validator/lib/isEmpty\";\nimport Card from \"react-bootstrap/Card\";\nimport Container from \"react-bootstrap/Container\";\nimport LoginComponent from \"./components/Login\";\nimport { formLogin, formLoginIsValid } from \"./formdata/formLogin\";\nconst EMAIL = \"hydro@gmail.com\";\nconst PASSWORD = \"asdasd\";\nconst IP = \"192.168.18.229:81\";\nconst optionChart = {\n  chart: {\n    height: 150,\n    type: 'area',\n    zoom: {\n      enabled: false\n    }\n  },\n  xaxis: {\n    labels: {\n      show: false\n    },\n    axisTicks: {\n      show: false\n    }\n  },\n  sparkline: {\n    enabled: true\n  },\n  dataLabels: {\n    enabled: false\n  },\n  stroke: {\n    curve: 'smooth'\n  },\n  fill: {\n    opacity: 1\n  }\n};\n\nconst App = () => {\n  _s();\n\n  const [login, setLogin] = useState(formLogin);\n  const [isLogin, setIsLogin] = useState(false);\n  const [statistic, setStatistic] = useState([{\n    suhu: \"0\",\n    nutrisi: \"0\",\n    ph: \"0\"\n  }]);\n  const {\n    email,\n    password\n  } = login;\n\n  const inputChangeHandler = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    if (isEmpty(value || \"\", {\n      ignore_whitespace: true\n    })) {\n      const data = { ...login,\n        [name]: { ...login[name],\n          value: value,\n          isValid: false,\n          message: \"Kolom tidak boleh kosong\"\n        }\n      };\n      setLogin(data);\n    } else {\n      const data = { ...login,\n        [name]: { ...login[name],\n          value: value,\n          isValid: true,\n          message: null\n        }\n      };\n      setLogin(data);\n    }\n  };\n\n  const submitLoginHandler = () => {\n    if (formLoginIsValid(login, setLogin)) {\n      if (isEqual(email.value, EMAIL) && isEqual(password.value, PASSWORD)) {\n        notification.success({\n          message: \"Success\",\n          description: \"Selamat datang Hydropronics\"\n        });\n        setIsLogin(true);\n        const dataWS = new W3CWebSocket(`ws://${IP}`, ['arduino']);\n\n        dataWS.onmessage = message => {\n          if (message.data !== \"Connected\") {\n            if (typeof message.data == \"string\") {\n              let dataObj = {};\n              const data = message.data.split(\",\");\n\n              for (let val of data) {\n                dataObj[val.split(\":\")[0]] = val.split(\":\")[1];\n              }\n\n              setStatistic(data => [...data, dataObj]);\n            }\n          }\n        };\n      } else {\n        setIsLogin(false);\n        notification.error({\n          message: \"Error\",\n          description: \"Akun tidak terdaftar\"\n        });\n      }\n    }\n  };\n\n  const suhu = statistic.map(data => data.suhu);\n  const ph = statistic.map(data => data.ph);\n  const nutrisi = statistic.map(data => data.nutrisi);\n  const seriesPH = [{\n    name: \"PH\",\n    data: ph\n  }];\n  const seriesSuhu = [{\n    name: \"Suhu\",\n    data: suhu\n  }];\n  const seriesNutrisi = [{\n    name: \"Nutrisi\",\n    data: nutrisi\n  }];\n  const optionPH = {\n    chart: {\n      type: 'area',\n      zoom: {\n        enabled: false\n      },\n      animations: {\n        enabled: true,\n        easing: 'linear',\n        dynamicAnimation: {\n          speed: 1000\n        }\n      }\n    },\n    xaxis: {\n      labels: {\n        show: false\n      },\n      axisTicks: {\n        show: false\n      },\n      tooltip: {\n        enabled: false\n      }\n    },\n    plotOptions: {\n      bar: {\n        columnWidth: '45%'\n      }\n    },\n    sparkline: {\n      enabled: true\n    },\n    dataLabels: {\n      enabled: false\n    },\n    stroke: {\n      curve: 'smooth'\n    },\n    fill: {\n      opacity: 1\n    },\n    toolbar: {\n      show: false\n    },\n    title: {\n      text: ph[ph.length - 1],\n      offsetX: 30,\n      style: {\n        fontSize: '24px',\n        cssClass: 'apexcharts-yaxis-title'\n      }\n    },\n    subtitle: {\n      text: 'PH',\n      offsetX: 30,\n      style: {\n        fontSize: '14px',\n        cssClass: 'apexcharts-yaxis-title'\n      }\n    },\n    colors: ['#00E396']\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLogin ? /*#__PURE__*/_jsxDEV(Layout, {\n      className: \"bg-white\",\n      children: /*#__PURE__*/_jsxDEV(Layout.Content, {\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: [16, 16],\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              lg: 16,\n              md: 24,\n              sm: 24,\n              xs: 24,\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(Chart, {\n                  options: optionPH,\n                  series: seriesPH\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 8,\n              md: 24,\n              sm: 24,\n              xs: 24,\n              children: [/*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: ph[ph.length - 1]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: suhu[suhu.length - 1]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: nutrisi[nutrisi.length - 1]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(LoginComponent, {\n      state: login,\n      onChange: inputChangeHandler,\n      submit: submitLoginHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(App, \"55tnjuzh6d0UafzvC6cFtex9wes=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/paulussimanjuntak/Desktop/react-hydrotech/src/App.js"],"names":["useState","Layout","notification","Row","Col","w3cwebsocket","W3CWebSocket","Chart","isEqual","isEmpty","Card","Container","LoginComponent","formLogin","formLoginIsValid","EMAIL","PASSWORD","IP","optionChart","chart","height","type","zoom","enabled","xaxis","labels","show","axisTicks","sparkline","dataLabels","stroke","curve","fill","opacity","App","login","setLogin","isLogin","setIsLogin","statistic","setStatistic","suhu","nutrisi","ph","email","password","inputChangeHandler","e","name","target","value","ignore_whitespace","data","isValid","message","submitLoginHandler","success","description","dataWS","onmessage","dataObj","split","val","error","map","seriesPH","seriesSuhu","seriesNutrisi","optionPH","animations","easing","dynamicAnimation","speed","tooltip","plotOptions","bar","columnWidth","toolbar","title","text","length","offsetX","style","fontSize","cssClass","subtitle","colors"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { Layout, notification, Row, Col } from \"antd\";\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\n\nimport Chart from \"react-apexcharts\";\nimport isEqual from \"validator/lib/equals\";\nimport isEmpty from \"validator/lib/isEmpty\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Container from \"react-bootstrap/Container\";\n\nimport LoginComponent from \"./components/Login\"\n\nimport { formLogin, formLoginIsValid } from \"./formdata/formLogin\";\n\nconst EMAIL = \"hydro@gmail.com\";\nconst PASSWORD = \"asdasd\";\nconst IP = \"192.168.18.229:81\";\nconst optionChart = {\n  chart: {\n    height: 150,\n    type: 'area',\n    zoom: { enabled: false },\n  },\n  xaxis: {\n    labels: {\n      show: false\n    },\n    axisTicks: {\n      show: false\n    }\n  },\n  sparkline: { enabled: true },\n  dataLabels: { enabled: false },\n  stroke: { curve: 'smooth' },\n  fill: { opacity: 1, },\n}\n\n\nconst App = () => {\n  const [login, setLogin] = useState(formLogin);\n  const [isLogin, setIsLogin] = useState(false);\n  const [statistic, setStatistic] = useState([ { suhu: \"0\", nutrisi: \"0\", ph: \"0\" } ]);\n\n  const { email, password } = login;\n\n  const inputChangeHandler = e => {\n    const name = e.target.name\n    const value = e.target.value\n\n    if(isEmpty(value || \"\", { ignore_whitespace: true })){\n      const data = {\n        ...login,\n        [name]: {\n          ...login[name],\n          value: value,\n          isValid: false,\n          message: \"Kolom tidak boleh kosong\",\n        },\n      };\n      setLogin(data);\n    } else {\n      const data = {\n        ...login,\n        [name]: {\n          ...login[name],\n          value: value,\n          isValid: true,\n          message: null,\n        },\n      };\n      setLogin(data);\n    }\n  }\n\n  const submitLoginHandler = () => {\n    if(formLoginIsValid(login, setLogin)){\n      if(isEqual(email.value, EMAIL) && isEqual(password.value, PASSWORD)){\n        notification.success({\n          message: \"Success\",\n          description: \"Selamat datang Hydropronics\",\n        });\n        setIsLogin(true);\n\n        const dataWS = new W3CWebSocket(`ws://${IP}`, ['arduino']);\n\n        dataWS.onmessage = message => {\n          if(message.data !== \"Connected\"){\n            if(typeof message.data == \"string\") {\n              let dataObj = {}\n              const data = message.data.split(\",\")\n              for(let val of data) {\n                dataObj[val.split(\":\")[0]] = val.split(\":\")[1]\n              }\n              setStatistic(data => [...data, dataObj])\n            }\n          }\n        }\n\n      } else {\n        setIsLogin(false);\n        notification.error({\n          message: \"Error\",\n          description: \"Akun tidak terdaftar\",\n        });\n      }\n    }\n  }\n\n  const suhu = statistic.map(data => data.suhu)\n  const ph = statistic.map(data => data.ph)\n  const nutrisi = statistic.map(data => data.nutrisi)\n\n  const seriesPH = [ { name: \"PH\", data: ph }, ]\n  const seriesSuhu = [ { name: \"Suhu\", data: suhu }, ]\n  const seriesNutrisi = [ { name: \"Nutrisi\", data: nutrisi}, ]\n\n  const optionPH = {\n    chart: {\n      type: 'area',\n      zoom: { enabled: false },\n      animations: {\n        enabled: true,\n        easing: 'linear',\n        dynamicAnimation: {\n          speed: 1000\n        }\n      },\n\n    },\n    xaxis: {\n      labels: {\n        show: false\n      },\n      axisTicks: {\n        show: false\n      },\n      tooltip: {\n        enabled: false\n      },\n    },\n    plotOptions: {\n      bar: {\n        columnWidth: '45%',\n      }\n    },\n    sparkline: { enabled: true },\n    dataLabels: { enabled: false },\n    stroke: { curve: 'smooth' },\n    fill: { opacity: 1, },\n    toolbar: {\n      show: false\n    },\n    title: {\n      text: ph[ph.length - 1],\n      offsetX: 30,\n      style: {\n        fontSize: '24px',\n        cssClass: 'apexcharts-yaxis-title'\n      }\n    },\n    subtitle: {\n      text: 'PH',\n      offsetX: 30,\n      style: {\n        fontSize: '14px',\n        cssClass: 'apexcharts-yaxis-title'\n      }\n    },\n    colors: ['#00E396'],\n  }\n\n  return(\n    <>\n      {isLogin ? (\n        <Layout className=\"bg-white\">\n          <Layout.Content>\n            <Container>\n              <Row gutter={[16, 16]}>\n\n                <Col lg={16} md={24} sm={24} xs={24}>\n                  <Card>\n                    <Chart options={optionPH} series={seriesPH} />\n                  </Card>\n                </Col>\n\n                <Col lg={8} md={24} sm={24} xs={24}>\n                  <Card>\n                    <h2>{ph[ph.length - 1]}</h2>\n                  </Card>\n                  <Card>\n                    <h2>{suhu[suhu.length - 1]}</h2>\n                  </Card>\n                  <Card>\n                    <h2>{nutrisi[nutrisi.length - 1]}</h2>\n                  </Card>\n                </Col>\n\n              </Row>\n            </Container>\n          </Layout.Content>\n        </Layout>\n      ) : (\n        <LoginComponent \n          state={login} \n          onChange={inputChangeHandler} \n          submit={submitLoginHandler} \n        />\n      )}\n    </>\n  )\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}